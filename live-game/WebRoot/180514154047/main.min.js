var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Scroller=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.begin,t,!0),t.rect=egret.Point.create(0,0),t.touchEnabled=!0,t}return __extends(t,e),t.prototype.begin=function(e){if(egret.Tween.removeTweens(this),this.stop=!1,this.start=egret.Point.create(e.stageX,e.stageY),this.scrollRect){this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.move,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.end,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.end,this);var t=this.getBounds();this.max=t.width,this.may=t.height,this.rect.x=this.scrollRect.x,this.rect.y=this.scrollRect.y}},t.prototype.move=function(e){if(this.scrollRect){null==this.start&&(this.start=egret.Point.create(e.stageX,e.stageY),egret.log("null"));var t=this.scrollRect;t.y=this.mmm(this.rect.y-(e.stageY-this.start.y)),this.stop?e.stopImmediatePropagation():this.stop=Math.abs(this.start.y-e.stageY)>5,this.scrollRect=t}},t.prototype.mmm=function(e){return Math.min(this.may-this.scrollRect.height,Math.max(0,e))},Object.defineProperty(t.prototype,"scrollV",{get:function(){return this.scrollRect.y},set:function(e){var t=this.scrollRect;t.y=e,this.scrollRect=t},enumerable:!0,configurable:!0}),t.prototype.asdasd=function(e){egret.log(e)},t.prototype.end=function(e){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.move,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.end,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.end,this),this.stop&&e.stopImmediatePropagation(),null!=this.start&&(this.start=null)},t}(egret.DisplayObjectContainer);__reflect(Scroller.prototype,"Scroller");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=e.call(this)||this;return egret.ImageLoader.crossOrigin="anonymous",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){egret.log("开始下载配置文件"),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),egret.log("配置文件下载完成"),this.createGameScene()},t.prototype.onResourceLoadComplete=function(e){switch(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),e.groupName){case"gameKey_001":this.addChild(new Six);break;case"gameKey_002":this.addChild(new Wawa)}},t.prototype.onItemLoadError=function(e){console.log("资源加载出错:"+e.resItem.url)},t.prototype.onResourceLoadError=function(e){console.log("资源组加载出错:"+e.groupName),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){this.bg=new egret.Shape,this.bg.graphics.beginFill(16711680,0),this.bg.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.bg.cacheAsBitmap=!0,this.bg.touchEnabled=!0,this.addChild(this.bg),this.bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchBg,this),this.bg.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBgBegin,this),this.bg.addEventListener(egret.TouchEvent.TOUCH_END,this.touchBgEnd,this),this.touchPoint=new egret.Point,Server.Dispatcher.once(Server.EventInitGame,this.loadGame,this),Server.init()},t.prototype.loadGame=function(){egret.log("开始加载游戏资源："+Server.cfg.gameStatus),RES.loadGroup(Server.cfg.gameStatus)},t.prototype.touchBgBegin=function(e){this.touchPoint.setTo(e.stageX,e.stageY)},t.prototype.touchBgEnd=function(e){e.stageX-this.touchPoint.x>100&&egret.ExternalInterface.call("moveToLeft","")},t.prototype.touchBg=function(e){var t=this.stage,i={x:Math.round(e.stageX/t.stageWidth),y:Math.round(e.stageY/t.stageHeight)};egret.ExternalInterface.call("onTouchTab",JSON.stringify(i))},t.prototype.display=function(e){for(var t=0;t<this.numChildren;t++)this.getChildAt(t).visible=e},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var Server;!function(e){function t(t,i){var r=new f(t.url);r.param=t,r.data=i,r.time=Date.now()-t.time,r.err=!1,e.Dispatcher.dispatchEvent(r)}function i(n){function o(e){egret.log("Server.complete\n",JSON.stringify(n),f.response),f.removeEventListener(egret.IOErrorEvent.IO_ERROR,s,null);var i=JSON.parse(f.response);t(n,i)}function s(e){egret.log("Server.error\n",JSON.stringify(n)),f.removeEventListener(egret.Event.COMPLETE,o,null),egret.setTimeout(i,null,1e3,n)}if(e.Test)return void t(n,e.Test[n.url]);egret.log("Server.send\n",JSON.stringify(n)),n.rest=n.rest?n.rest+1:1;var g=n.url.split("|"),h=g[1],d=g[0],l=(new Date).getTime()+"",c=a(e.cfg.token+"_"+CryptoJS.MD5(l).toString()),p=CryptoJS.MD5(e.cfg.token+d+l).toString(),u=e.cfg.baseUrl+d;n.get&&(u+="?"+r(n.get)),n.time=Date.now();var f=new egret.HttpRequest;f.once(egret.Event.COMPLETE,o,null),f.once(egret.IOErrorEvent.IO_ERROR,s,null),f.setRequestHeader("token",c),f.setRequestHeader("sign",p),f.setRequestHeader("timestamp",l),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.open(u,h),f.send(n.post?r(n.post):null)}function r(e){var t=[];for(var i in e)t.push(i+"="+e[i]);return t.join("&")}function a(t){var i=CryptoJS.enc.Utf8.parse(e.cfg.aesKey),r=CryptoJS.enc.Utf8.parse(e.cfg.aesIv),a=CryptoJS.enc.Utf8.parse(t),n=CryptoJS.AES.encrypt(a,i,{iv:r,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}),o=n.ciphertext;return o.toString(CryptoJS.enc.Base64)}function n(e){egret.ExternalInterface.call("scroller",e?"1":"0")}function o(){egret.ExternalInterface.call("rechargeTip","")}function s(){egret.ExternalInterface.call("getMoney","")}function g(e,t){try{if("iOS"==egret.Capabilities.os)window.webkit.messageHandlers[e].postMessage(t);else{var i=window.yangtuo||yangtuo;i?i[e].call(null,t):egret.log("(window['yangtuo'] || yangtuo) 找不到")}}catch(r){egret.error("调用播放器错误",r)}}function h(){var e=egret.MainContext.instance.stage;egret.Capabilities.boundingClientWidth<=640&&(e.frameRate=30),egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&(egret.ExternalInterface.addCallback=function(e,t){window[e]=t},egret.ExternalInterface.call=g),egret.ExternalInterface.addCallback("getCfg",l),egret.ExternalInterface.addCallback("display",c),egret.ExternalInterface.addCallback("getMoney",p),egret.ExternalInterface.addCallback("sixUpdata",d),egret.ExternalInterface.call("getCfg",""),e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){var i=t.currentTarget;if(0==i.hasEventListener(egret.TouchEvent.TOUCH_TAP)){var r={x:Math.round(t.stageX/e.stageWidth),y:Math.round(t.stageY/e.stageHeight)};egret.ExternalInterface.call("onTouchTab",JSON.stringify(r))}},null)}function d(t){var i=JSON.parse(t);e.Dispatcher.dispatchEventWith(e.EventsSixUpdata,!1,i)}function l(t){var i;"string"==typeof t?i=JSON.parse(t):(i=t,egret.log("Native_getCfg",JSON.stringify(t))),i.roomId=parseInt(i.roomId),i.anchorId=parseInt(i.anchorId),i.money=parseInt(i.money),e.cfg=i,e.Dispatcher.dispatchEventWith(e.EventInitGame)}function c(e){egret.log("Native_display",e),egret.MainContext.instance.stage.getChildAt(0).visible="1"==e}function p(t){egret.error("Native_getMoney",t),e.cfg.money="number"==typeof t?t:parseInt(t),e.Dispatcher.dispatchEventWith(e.EventUpdataMoeny)}function u(e){egret.error("Native_eval",e);try{u(e)}catch(t){egret.error("Native_eval",t)}}e.cfg={baseUrl:"http://192.168.20.251:8081/game",token:"MTAwMDAwODlfQUI5NjFGMTE4MDAwMkZBNkFBRkZENjAzQTFBNTgyOTRfMV84NjY0MTYwMzc2OTk5NzNfMTUwOTY5MDIzNw==",aesKey:"hkzb2017hkzb2017",aesIv:"A-16-Byte-String",roomId:666666,anchorId:10000089,money:12e6,gameStatus:"gameKey_002"},e.Dispatcher=new egret.EventDispatcher,e.send=i;var f=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(egret.Event);e.ServerEvent=f,__reflect(f.prototype,"Server.ServerEvent"),e.EventInitGame="EventInitGame",e.EventDisplay="EventDisplay",e.EventUpdataMoeny="EventUpdataMoeny",e.EventsSixUpdata="EventsSixUpdata",e.scroller=n,e.rechargeTip=o,e.updataMoney=s,e.init=h,e.sixUpdata=d,e.getCfg=l,e.display=c,e.getMoney=p,e.eval=u}(Server||(Server={}));var SixCfg;!function(e){function t(t){for(var i=0;i<e.imgUrl.length;i++)if(e.imgUrl[i].id==t)return i;return-1}function i(e){var t=RES.getRes("six_"+e);return null==t&&egret.error("找不到资源:six_"+e),t}function r(e,t,i,r){var a=new egret.Shape;return a.graphics.beginFill(0,0),a.graphics.drawRect(0,0,i,r),a.graphics.endFill(),a.touchEnabled=!0,a.x=e,a.y=t,a}e._stake="/gameCar/stake|POST",e._getGameCarConfig="/gameCar/getGameCarConfig|GET",e._getGameCarTime="/gameCar/getGameCarTime|GET",e._getLotteryByPeriods="/gameCar/getLotteryByPeriods|GET",e._getStakeRecord="/gameCar/getStakeRecord|POST",e._getLotteryRecord="/gameCar/getLotteryRecord|POST",e.getImgIdx=t,e.getRes=i,e.getBtn=r}(SixCfg||(SixCfg={}));var Six=function(e){function t(){var t=e.call(this)||this;return t.sceneA=new SixSceneA,t.sceneA.addEventListener(egret.Event.CHANGE,t.aChange,t),t.sceneB=new SixSceneB,t.sceneB.addEventListener(egret.Event.CLOSE,t.showA,t),t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){this.stage.addEventListener(egret.Event.RESIZE,this.resize,this),this.addChild(this.sceneA),this.addChild(this.sceneB),this.resize()},t.prototype.showA=function(){this.sceneA.visible=!0,Server.scroller(!0)},t.prototype.resize=function(){var e=this.stage.stageHeight;this.sceneA.y=e,this.sceneB.y=e},t.prototype.aChange=function(e){switch(e.data){case 0:this.sceneB.showA(),this.sceneA.visible=!1;break;case 1:Server.scroller(!1),this.sceneB.showB(),this.sceneA.visible=!1;break;case 2:Server.rechargeTip()}},t}(egret.DisplayObjectContainer);__reflect(Six.prototype,"Six");var SixSceneA=function(e){function t(){var t=e.call(this)||this;t.bg=new egret.Bitmap(SixCfg.getRes("bg_1_png")),t.bg.y=-t.bg.texture.textureHeight,t.addChild(t.bg),t.myMoney=[],t.labAllMoney=[],t.labMyMoney=[],t.imgs=[];for(var i=0;6>i;i++){t.myMoney.push(0);var r=new egret.TextField;r.text="0",r.width=100,r.size=22,r.x=40+112*i,r.textAlign=egret.HorizontalAlign.CENTER,r.y=-184,t.labAllMoney.push(r),t.addChild(r);var a=new egret.TextField;a.touchEnabled=!0,a.size=22,a.height=28,a.stroke=2,a.strokeColor=4034838,a.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickMyMoney,t),a.text="0",a.width=120,a.anchorOffsetX=50,a.x=83+112*i,a.y=-144,a.textAlign=egret.HorizontalAlign.CENTER,t.labMyMoney.push(a),t.addChild(a);var n=new egret.Bitmap;n.x=47+112*i,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickMyMoney,t),n.y=-320,t.imgs.push(n),t.addChild(n)}t.labAllMoney;t.action=new SixAction,t.action.addEventListener(egret.Event.COMPLETE,t.start,t),t.addChild(t.action),t.btns=new egret.Bitmap(SixCfg.getRes("btns_png")),t.btns.y=-t.btns.texture.textureHeight,t.addChild(t.btns),t.money=new egret.TextField,t.money.text=Server.cfg.money+"",t.money.scaleX=t.money.scaleY=.6,t.money.x=75,t.money.y=-54,t.addChild(t.money),t.progress=new SixProgress,t.progress.addEventListener(egret.Event.COMPLETE,t.progressComplete,t),t.progress.x=192,t.progress.y=-382,t.addChild(t.progress),t.tabPrices=new SixPrices,t.tabPrices.x=430,t.tabPrices.y=-80,t.addChild(t.tabPrices),t.menu=[],t.menu.push(SixCfg.getBtn(15,-390,162,60)),t.menu.push(SixCfg.getBtn(568,-390,160,60)),t.menu.push(SixCfg.getBtn(175,-75,84,60));for(var i=0;i<t.menu.length;i++){var o=t.menu[i];o.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickMenu,t),t.addChild(o)}return Server.Dispatcher.once(SixCfg._getGameCarConfig,t.loadImgUrlComplete,t),Server.Dispatcher.addEventListener(SixCfg._getGameCarTime,t.loadCfgComplete,t),Server.Dispatcher.addEventListener(SixCfg._getLotteryByPeriods,t.getLotteryByPeriods,t),Server.Dispatcher.addEventListener(SixCfg._stake,t.addComplete,t),Server.Dispatcher.addEventListener(Server.EventUpdataMoeny,t.updataMeoney,t),Server.Dispatcher.addEventListener(Server.EventsSixUpdata,t.sixUpdata,t),Server.send({url:SixCfg._getGameCarConfig}),t}return __extends(t,e),t.prototype.sixUpdata=function(e){var t=e.data;for(var i in t)this.labAllMoney[SixCfg.getImgIdx(parseInt(i))].text=t[i]+""},t.prototype.progressComplete=function(){Server.send({url:SixCfg._getLotteryByPeriods,get:{periods:SixCfg.cfg.periods}})},t.prototype.getLotteryByPeriods=function(e){if("200"==e.data.code){SixCfg.awards=e.data.data,Server.updataMoney(),this.action.start();for(var t=0;6>t;t++)this.myMoney[t]=0,this.labMyMoney[t].text="0",this.labAllMoney[t].text="0"}else"3000"==e.data.code&&egret.setTimeout(this.progressComplete,this,2e3)},t.prototype.updataMeoney=function(e){void 0===e&&(e=null),this.money.text=Server.cfg.money+""},t.prototype.start=function(){Server.send({url:SixCfg._getGameCarTime,get:{first:null==this.isFirst?1:0}}),this.isFirst=!1},t.prototype.loadCfgComplete=function(e){var t=e.data.data;if(SixCfg.cfg=e.data.data,t.total)for(var i=0;i<t.total.length;i++){var r=t.total[i];this.labAllMoney[SixCfg.getImgIdx(r.carId)].text=r.money+""}if(t.stake)for(var i=0;i<t.stake.length;i++){var r=t.stake[i];this.labMyMoney[SixCfg.getImgIdx(r.carId)].text=r.money+""}SixCfg.cfg.time+=3,this.progress.start()},t.prototype.loadImgUrlComplete=function(e){egret.log(1111111),SixCfg.imgUrl=e.data.data,egret.log(2222222);var t={},i=[],r=[];egret.log(2222222);var a=SixCfg.imgUrl;egret.log(2222222);for(var n="image",o=0;o<a.length;o++){var s=a[o],g="six_img_"+s.id+"_png";t[s.id]=s,i.push(g),r.push({name:g,type:n,url:s.img})}egret.log(2222222),SixCfg.imgUrlMap=t,egret.log(2222222);var h={groups:[{keys:i.join(","),name:"six_img"}],resources:r};egret.log(3),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.loadImgComplete,this),RES.parseConfig(h),egret.log(4),RES.loadGroup("six_img")},t.prototype.loadImgComplete=function(e){for(var t=0;t<SixCfg.imgUrl.length;t++){var i=SixCfg.imgUrl[t],r=this.imgs[t];r.texture=SixCfg.getRes("img_"+i.id+"_png"),r.scaleY=r.scaleX=90/r.texture.textureWidth}this.action.init(),this.start()},t.prototype.clickMenu=function(e){var t=e.currentTarget,i=this.menu.indexOf(t);this.dispatchEventWith(egret.Event.CHANGE,!1,i)},t.prototype.clickMyMoney=function(e){var t,i=e.currentTarget;return t=i.text?this.labMyMoney.indexOf(i):this.imgs.indexOf(i),Server.cfg.money<this.tabPrices.selectData?void Server.rechargeTip():void Server.send({url:SixCfg._stake,post:{roomId:Server.cfg.roomId,anchorId:Server.cfg.anchorId,money:this.tabPrices.selectData,carId:SixCfg.imgUrl[t].id,periods:SixCfg.cfg.periods,idx:t}})},t.prototype.addComplete=function(e){if(200==e.data.code){var t=e.param.post.idx,i=this.myMoney[t]+e.param.post.money;this.myMoney[t]=i;var r=this.labMyMoney[t];r.text=i+"",Server.cfg.money-=e.param.post.money,this.updataMeoney()}},t}(egret.DisplayObjectContainer);__reflect(SixSceneA.prototype,"SixSceneA");var SixProgress=function(e){function t(){var t=e.call(this)||this;return t.bmp=new egret.Bitmap(SixCfg.getRes("jindutiao_png")),t.bmp.scale9Grid=new egret.Rectangle(10,0,2,27),t.addChild(t.bmp),t.label=new egret.TextField,t.label.textColor=16777215,t.label.stroke=2,t.label.strokeColor=26112,t.label.x=140,t.label.width=58,t.label.textAlign=egret.HorizontalAlign.CENTER,t.addChild(t.label),t}return __extends(t,e),t.prototype.start=function(){egret.Tween.get(this).set({progress:1,visible:!0}).to({progress:0},1e3*SixCfg.cfg.time).set({visible:!1}).call(this.dispatchEventWith,this,[egret.Event.COMPLETE])},Object.defineProperty(t.prototype,"progress",{get:function(){return(this.bmp.width-22)/338},set:function(e){this.bmp.width=338*e+22,this.label.text=Math.ceil(e*SixCfg.cfg.time)+""},enumerable:!0,configurable:!0}),t}(egret.DisplayObjectContainer);__reflect(SixProgress.prototype,"SixProgress");var SixPrices=function(e){function t(){var t=e.call(this)||this;t.items=[],t.datas=[50,100,1e3,1e4];for(var i=0;i<t.datas.length;i++){var r=(t.datas[i],new egret.Bitmap);r.addEventListener(egret.TouchEvent.TOUCH_TAP,t.click,t),r.touchEnabled=!0,r.x=70*i,t.items.push(r),t.addChild(r)}return t.items[0].visible=!1,t.refresh(1),t}return __extends(t,e),t.prototype.click=function(e){this.refresh(this.items.indexOf(e.currentTarget))},t.prototype.refresh=function(e){this.selectIdx=e,this.selectData=this.datas[e];for(var t=0;t<this.items.length;t++){var i=this.items[t],r="gold_"+this.datas[t]+(t==this.selectIdx?"":"_h")+"_png";i.texture=SixCfg.getRes(r)}},t}(egret.DisplayObjectContainer);__reflect(SixPrices.prototype,"SixPrices");var SixAction=function(e){function t(){var t=e.call(this)||this;return t.bg=new egret.Bitmap(SixCfg.getRes("bg_2_png")),t.bg.y=-t.bg.texture.textureHeight,t.addChild(t.bg),t.visible=!1,t}return __extends(t,e),t.prototype.init=function(){this.container=new egret.DisplayObjectContainer,this.container.y=-310,this.addChild(this.container),this.container.mask=new egret.Rectangle(50,-47,650,300),this.items=[];for(var e=0;3>e;e++){var t=new SixActionItem;t.x=80+237*e,this.container.addChild(t),this.items.push(t)}this.txt=new egret.TextField,this.txt.y=-130,this.txt.x=50,this.txt.width=650,this.txt.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.txt)},t.prototype.start=function(){this.visible=!0,this.txt.text="";var e=SixCfg.getImgIdx(SixCfg.awards.carId1),t=SixCfg.getImgIdx(SixCfg.awards.carId2),i=SixCfg.getImgIdx(SixCfg.awards.carId3);egret.log("award_id",SixCfg.awards.carId1,SixCfg.awards.carId2,SixCfg.awards.carId3),egret.log("award_idx",e,t,i),this.items[0].start(e+12),this.items[1].start(t+24);var r=this.items[2].start(i+36);r+=2e3,egret.setTimeout(this.showtext,this,r)},t.prototype.showtext=function(){this.txt.text="投币："+SixCfg.awards.totalStakeMoney+"  中奖："+SixCfg.awards.totalDeservedMoney,egret.setTimeout(this.end,this,1500)},t.prototype.end=function(){this.visible=!1,this.dispatchEventWith(egret.Event.COMPLETE)},t}(egret.DisplayObjectContainer);__reflect(SixAction.prototype,"SixAction");var SixActionItem=function(e){function t(){for(var t=e.call(this)||this,i=0;7>i;i++){var r=i%6,a=new egret.Bitmap(SixCfg.getRes("img_"+SixCfg.imgUrl[r].id+"_png"));a.y=225*-i,t.addChild(a)}return t._yy=0,t.cacheAsBitmap=!0,t}return __extends(t,e),t.prototype.start=function(e){var t=100,i=this._yy%6,r=t*e;return e=this._yy+e-i,egret.Tween.get(this).wait(500).to({yy:e},r,egret.Ease.quintOut),r},Object.defineProperty(t.prototype,"yy",{get:function(){return this._yy},set:function(e){this._yy=e;var t=e%6;this.y=225*t},enumerable:!0,configurable:!0}),t}(egret.DisplayObjectContainer);__reflect(SixActionItem.prototype,"SixActionItem");var SixSceneB=function(e){function t(){var t=e.call(this)||this;return t.visible=!1,t.bg=new egret.Bitmap(SixCfg.getRes("bg_3_png")),t.bg.touchEnabled=!0,t.bg.y=-t.bg.texture.textureHeight,t.addChild(t.bg),t.boxA=new egret.DisplayObjectContainer,t.boxA.visible=!1,t.addChild(t.boxA),t.boxAtitle=new egret.Bitmap(SixCfg.getRes("title_png")),t.boxAtitle.y=-t.bg.texture.textureHeight,t.boxAtitle.x=40,t.boxA.addChild(t.boxAtitle),t.boxAscroller=new Scroller,t.boxAscroller.x=50,t.boxAscroller.y=-230,t.boxAscroller.scrollRect=new egret.Rectangle(0,0,650,170),t.boxA.addChild(t.boxAscroller),t.boxAtext=new egret.TextField,t.boxAtext.width=650,t.boxAtext.size=26,t.boxAtext.lineSpacing=10,t.boxAtext.text="欢乐六选三\n\n玩法规则\n用户直接下注：草莓、西瓜、西柚、苹果、香蕉、樱桃\n手续费收取中奖金额的6%\n下注方式：下注单一图案及于骰子滚动后看结果\n\n选择图案\n于相应位置中选择图案（草莓、西瓜、西柚、苹果、香蕉、樱桃）\n赔率\n如所选图案出现一次，获1:1之赔付\n如所选图案出现两次，获1:2之赔付\n如所选图案出现三次，获1:3之赔付\n\n本游戏为计时开奖，每分钟开奖一盘，投注已完成时间为准，如已过开奖时间，自动购买下期。\n",t.boxAscroller.addChild(t.boxAtext),t.boxB=new egret.DisplayObjectContainer,t.addChild(t.boxB),t.boxBtab=new SixTab,t.boxBtab.addEventListener(egret.Event.CHANGE,t.tabChange,t),t.boxBtab.x=162,t.boxBtab.y=-t.bg.texture.textureHeight,t.boxB.addChild(t.boxBtab),t.boxBstake=new SixStake,t.boxBstake.x=50,t.boxBstake.y=-300,t.boxB.addChild(t.boxBstake),t.boxBlottery=new SixLottery,t.boxBlottery.x=50,t.boxBlottery.y=-300,t.boxB.addChild(t.boxBlottery),t.btnClose=new egret.Bitmap(SixCfg.getRes("btn_back_png")),t.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,t.close,t),t.btnClose.y=-t.bg.texture.textureHeight,t.btnClose.touchEnabled=!0,t.addChild(t.btnClose),t}return __extends(t,e),t.prototype.showA=function(){this.visible=!0,this.boxA.visible=!0,this.boxB.visible=!1},t.prototype.showB=function(){this.visible=!0,this.boxA.visible=!1,this.boxB.visible=!0,this.tabChange()},t.prototype.tabChange=function(){1==this.boxBtab.selectIdx?(this.boxBstake.refresh(),this.boxBstake.visible=!0,this.boxBlottery.visible=!1):(this.boxBlottery.refresh(),this.boxBlottery.visible=!0,this.boxBstake.visible=!1)},t.prototype.close=function(){this.visible=!1,this.dispatchEventWith(egret.Event.CLOSE)},t}(egret.DisplayObjectContainer);__reflect(SixSceneB.prototype,"SixSceneB");var SixTab=function(e){function t(){var t=e.call(this)||this;t.items=[],t.datas=["kjjl","yzjl"];for(var i=0;i<t.datas.length;i++){var r=(t.datas[i],new egret.Bitmap);r.addEventListener(egret.TouchEvent.TOUCH_TAP,t.click,t),r.touchEnabled=!0,r.x=213*i,t.items.push(r),t.addChild(r)}return t.refresh(0),t}return __extends(t,e),t.prototype.click=function(e){this.refresh(this.items.indexOf(e.currentTarget))},t.prototype.refresh=function(e){this.selectIdx=e,this.selectData=this.datas[e];for(var t=0;t<this.items.length;t++){var i=this.items[t],r=this.datas[t]+(t==this.selectIdx?"":"_h")+"_png";i.texture=SixCfg.getRes(r)}this.dispatchEventWith(egret.Event.CHANGE)},t}(egret.DisplayObjectContainer);__reflect(SixTab.prototype,"SixTab");var SixStake=function(e){function t(){var t=e.call(this)||this;return t.bg=new egret.Shape,t.addChild(t.bg),t.container=new egret.DisplayObjectContainer,t.container.touchEnabled=!1,t.container.touchChildren=!1,t.addChild(t.container),t.btnLoad=new egret.TextField,t.btnLoad.size=40,t.btnLoad.width=650,t.btnLoad.height=50,t.btnLoad.verticalAlign=egret.VerticalAlign.MIDDLE,t.btnLoad.textAlign=egret.HorizontalAlign.CENTER,t.btnLoad.stroke=3,t.btnLoad.strokeColor=255,t.btnLoad.touchEnabled=!0,t.btnLoad.addEventListener(egret.TouchEvent.TOUCH_TAP,t.next,t),t.btnLoad.textColor=16777215,t.addChild(t.btnLoad),Server.Dispatcher.addEventListener(SixCfg._getStakeRecord,t.loadComplete,t),t.scrollRect=new egret.Rectangle(0,0,650,250),t.page=1,t}return __extends(t,e),t.prototype.next=function(){"加载更多"==this.btnLoad.text&&(this.page++,this.refresh())},t.prototype.refresh=function(){this.bg.graphics.clear(),Server.send({url:SixCfg._getStakeRecord,post:{pageNo:this.page,pageSize:20}})},t.prototype.loadComplete=function(e){var t=e.data.data;if(t.length){this.scrollV=0,this.container.removeChildren();for(var i=110,r=0;r<t.length;r++){var a=SixStakeItem.create();a.updata(t[r]),a.y=r*i,this.container.addChild(a)}this.btnLoad.y=i*t.length,this.btnLoad.text=20==t.length?"加载更多":"没有更多了"}else this.btnLoad.text="没有更多了";this.bg.graphics.beginFill(0,0),this.bg.graphics.drawRect(0,0,this.width,this.height),this.bg.graphics.endFill()},t}(Scroller);__reflect(SixStake.prototype,"SixStake");var SixStakeItem=function(e){function t(){var t=e.call(this)||this,i=150;t.title=new egret.TextField,t.title.width=i,t.title.height=100,t.title.stroke=2,t.title.strokeColor=16711680,t.title.verticalAlign=egret.VerticalAlign.MIDDLE,t.title.textAlign=egret.HorizontalAlign.CENTER,t.title.text="加载更多",t.title.textColor=16777215,t.title.size=28,t.addChild(t.title),t.imgs=[],t.icos=[],t.counts=[];for(var r=0;6>r;r++){var a=new egret.Bitmap;t.icos.push(a),t.addChild(a);var n=new egret.Bitmap(SixCfg.getRes("img_"+SixCfg.imgUrl[r].id+"_png"));n.scaleX=n.scaleY=.5,t.imgs.push(n),t.addChild(n);var o=new egret.TextField;o.textAlign=egret.HorizontalAlign.CENTER,o.stroke=2,o.strokeColor=6710886,o.width=78,o.size=26,o.y=76,a.x=i+80*r,o.x=i+80*r,n.x=i+10+80*r,t.counts.push(o),t.addChild(o)}return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.removeFromStage,t),t}return __extends(t,e),t.create=function(){return null==t.All&&(t.All=[]),t.All.length?t.All.shift():new t},t.prototype.updata=function(e){this.title.text="第"+e.periods+"期";for(var t=e.carId.split(","),i=e.status.split(","),r=e.money.split(","),a={},n=0;n<t.length;n++){var o=t[n],s=a[o];s?s.money+=parseInt(r[n]):a[o]={money:parseInt(r[n]),status:i[n]}}for(var n=0;6>n;n++){var g=SixCfg.imgUrl[n],s=a[g.id];s?(this.counts[n].text=s.money+"",this.icos[n].texture=SixCfg.getRes("status_"+s.status+"_png")):(this.counts[n].text="0",this.icos[n].texture=SixCfg.getRes("status_1_png"))}},t.prototype.removeFromStage=function(){t.All.push(this)},t}(egret.DisplayObjectContainer);__reflect(SixStakeItem.prototype,"SixStakeItem");var SixLottery=function(e){function t(){var t=e.call(this)||this;return t.bg=new egret.Shape,t.addChild(t.bg),t.container=new egret.DisplayObjectContainer,t.container.touchEnabled=!1,t.container.touchChildren=!1,t.addChild(t.container),t.btnLoad=new egret.TextField,t.btnLoad.size=40,t.btnLoad.width=650,t.btnLoad.height=50,t.btnLoad.verticalAlign=egret.VerticalAlign.MIDDLE,t.btnLoad.textAlign=egret.HorizontalAlign.CENTER,t.btnLoad.stroke=3,t.btnLoad.strokeColor=255,t.btnLoad.touchEnabled=!0,t.btnLoad.addEventListener(egret.TouchEvent.TOUCH_TAP,t.next,t),t.btnLoad.textColor=16777215,t.addChild(t.btnLoad),Server.Dispatcher.addEventListener(SixCfg._getLotteryRecord,t.loadComplete,t),t.scrollRect=new egret.Rectangle(0,0,650,250),t.page=1,t}return __extends(t,e),t.prototype.next=function(){"加载更多"==this.btnLoad.text&&(this.page++,this.refresh())},t.prototype.refresh=function(){this.bg.graphics.clear(),Server.send({url:SixCfg._getLotteryRecord,post:{pageNo:this.page,pageSize:20}})},t.prototype.loadComplete=function(e){var t=e.data.data;if(t.length){this.scrollV=0,this.container.removeChildren();for(var i=90,r=0;r<t.length;r++){var a=SixLotteryItem.create();a.updata(t[r]),a.y=r*i,this.container.addChild(a)}this.btnLoad.y=i*t.length,this.btnLoad.text=20==t.length?"加载更多":"没有更多了"}else this.btnLoad.text="没有更多了";this.bg.graphics.beginFill(0,0),this.bg.graphics.drawRect(0,0,this.width,this.height),this.bg.graphics.endFill()},t}(Scroller);__reflect(SixLottery.prototype,"SixLottery");var SixLotteryItem=function(e){function t(){var t=e.call(this)||this,i=220;t.title=new egret.TextField,t.title.width=i,t.title.height=80,t.title.stroke=2,t.title.strokeColor=16711680,t.title.verticalAlign=egret.VerticalAlign.MIDDLE,t.title.textAlign=egret.HorizontalAlign.CENTER,t.title.text="加载更多",t.title.textColor=16777215,t.addChild(t.title),t.imgs=[],t.icos=[];for(var r=0;3>r;r++){var a=new egret.Bitmap(SixCfg.getRes("status_1_png"));a.x=i+120*r,t.icos.push(a),t.addChild(a);var n=new egret.Bitmap;n.scaleX=n.scaleY=.5,n.x=i+10+120*r,t.imgs.push(n),t.addChild(n)}return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.removeFromStage,t),t}return __extends(t,e),t.create=function(){return null==t.All&&(t.All=[]),t.All.length?t.All.shift():new t},t.prototype.updata=function(e){this.title.text="第"+e.periods+"期",this.imgs[0].texture=SixCfg.getRes("img_"+e.carId1+"_png"),this.imgs[1].texture=SixCfg.getRes("img_"+e.carId2+"_png"),this.imgs[2].texture=SixCfg.getRes("img_"+e.carId3+"_png")},t.prototype.removeFromStage=function(){t.All.push(this)},t}(egret.DisplayObjectContainer);__reflect(SixLotteryItem.prototype,"SixLotteryItem");var WawaCfg;!function(e){function t(e){return RES.getRes("wa_"+e)}e.jx=180,e.jxt=1e3,e.speed=1,e.speedBack=3,e._getGameDollConfig="/gameDoll/getGameDollConfig|GET",e._getGameDollMoney="/gameDoll/getGameDollMoney|GET",e._grab="/gameDoll/grab|POST",e._pushDollMsg="/gameDoll/pushDollMsg|POST",e.getRes=t}(WawaCfg||(WawaCfg={}));var Wawa=function(e){function t(){var t=e.call(this)||this;t.bottomContainer=new egret.DisplayObjectContainer,t.addChild(t.bottomContainer),t.bg=new egret.Bitmap(WawaCfg.getRes("newbg_png")),t.bg.y=-t.bg.height,t.bottomContainer.addChild(t.bg),t.btnPay=new egret.Bitmap(WawaCfg.getRes("pay_png")),t.btnPay.touchEnabled=!0,t.btnPay.addEventListener(egret.TouchEvent.TOUCH_TAP,Server.rechargeTip,null),t.btnPay.y=-50,t.btnPay.x=180,t.bottomContainer.addChild(t.btnPay),t.money=new egret.TextField,t.money.text=Server.cfg.money+"",t.money.x=80,t.money.y=-45,t.money.size=20,t.btnStart=new egret.Bitmap(WawaCfg.getRes("startt_png")),t.btnStart.visible=!1,t.btnStart.touchEnabled=!0,t.btnStart.y=-68,t.btnStart.x=577,t.btnStart.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickStart,t),t.bottomContainer.addChild(t.btnStart),t.bottomContainer.addChild(t.money),t.btnHeadContainer=new egret.DisplayObjectContainer,t.btnHeadContainer.x=355,t.btnHeadContainer.y=-73,t.bottomContainer.addChild(t.btnHeadContainer),t.btnHead=[];for(var i=1;4>i;i++){var r=new WawaBtnHead(i);r.addEventListener(egret.TouchEvent.TOUCH_TAP,t.changeHead,t),r.x=70*(i-1),t.btnHead.push(r),t.btnHeadContainer.addChild(r)}return t.leftWawa=new WawaLeft,t.addChild(t.leftWawa),t.rightWawa=new WawaRight,t.addChild(t.rightWawa),t.head=new WawaHead,t.head.addEventListener(egret.Event.CHANGE,t.headChange,t),t.head.addEventListener(egret.Event.COMPLETE,t.headComplete,t),t.head.x=375,t.addChild(t.head),t.btnHeadContainer.visible=!1,t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),Server.Dispatcher.once(WawaCfg._getGameDollConfig,t.loadCfg,t),Server.Dispatcher.once(WawaCfg._getGameDollMoney,t.loadMoney,t),Server.Dispatcher.addEventListener(Server.EventUpdataMoeny,t.updataMeoney,t),Server.send({url:WawaCfg._getGameDollConfig,get:{roomId:Server.cfg.roomId,anchorId:Server.cfg.anchorId}}),Server.send({url:WawaCfg._getGameDollMoney}),t.changeHeadTrue(t.btnHead[0]),t}return __extends(t,e),t.prototype.updataMeoney=function(e){this.money.text=Server.cfg.money+""},t.prototype.loadCfg=function(e){WawaCfg.cfg=e.data.data,this.loadFinish()},t.prototype.loadMoney=function(e){WawaCfg.prices=e.data.data,this.loadFinish()},t.prototype.loadImage=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.loadImage,this),this.rightWawa.start(),this.leftWawa.start(),this.btnStart.visible=!0,this.btnHeadContainer.visible=!0,this.select=this.btnHead[0],this.head.updata(1),this.btnHead[0].updata(WawaCfg.prices.claw1),this.btnHead[1].updata(WawaCfg.prices.claw2),this.btnHead[2].updata(WawaCfg.prices.claw3)},t.prototype.loadFinish=function(){if(null!=WawaCfg.cfg&&null!=WawaCfg.prices){for(var e=[],t=[],i=WawaCfg.cfg,r="image",a=0;a<i.length;a++){var n=i[a],o="wa_img_"+n.id+"_png";e.push(o),t.push({name:o,type:r,url:n.imageUrl})}var s={groups:[{keys:e.join(","),name:"wa_img"}],resources:t};RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.loadImage,this),RES.parseConfig(s),RES.loadGroup("wa_img")
}},t.prototype.clickStart=function(){return Server.cfg.money<this.select.price?void Server.rechargeTip():(this.btnStart.touchEnabled=!1,this.btnHeadContainer.touchChildren=!1,void this.head.run())},t.prototype.addToStage=function(){this.stage.addEventListener(egret.Event.RESIZE,this.resize,this),this.resize()},t.prototype.resize=function(){var e=this.stage.stageHeight;this.bottomContainer.y=this.stage.stageHeight,this.rightWawa.y=e-90-26,this.leftWawa.y=e-220-18},t.prototype.changeHead=function(e){this.changeHeadTrue(e.currentTarget)},t.prototype.changeHeadTrue=function(e){this.select=e;for(var t=this.btnHead.indexOf(this.select),i=0;i<this.btnHead.length;i++)this.btnHead[i].select=i==t;this.head.updata(t+1)},t.prototype.headChange=function(){var e=this.getWawa();e&&(this.rightWawa.hide(e.data.id),this.head.showItem(e.idx)),Server.Dispatcher.once(WawaCfg._grab,this.grabComplete,this),this.grabData=null,Server.send({url:WawaCfg._grab,post:{roomId:Server.cfg.roomId,anchorId:Server.cfg.anchorId,pawsPrice:this.select.price,graspdollId:e?e.data.id:0,multiple:e?e.data.multiple:0},err:!0,rest:3})},t.prototype.headComplete=function(){if(this.btnStart.touchEnabled=!0,this.btnHeadContainer.touchChildren=!0,this.rightWawa.show(),Server.updataMoney(),this.grabData&&"200"==this.grabData.code){Server.send({url:WawaCfg._pushDollMsg,post:{recordId:this.grabData.data.recordId}});var e=new WawaMessage;e.label.text="获得了"+this.grabData.data.totalPrice+"枚金币",this.addChild(e),this.head.item.visible=!1}},t.prototype.grabComplete=function(e){this.grabData=e.data,egret.log("grabComplete",JSON.stringify(e.data)),e.err?this.down(e.time):"4000"==this.grabData.code?(Server.rechargeTip(),this.down(e.time),this.headComplete()):"200"!=this.grabData.code?(this.down(e.time),this.head.isComplete&&this.headComplete()):egret.log(1)},t.prototype.down=function(e){var t=500-e,i=1e3*Math.random()+t;i>0?egret.setTimeout(this.head.down,this.head,i):this.head.down()},t.prototype.getWawa=function(){for(var e=this.rightWawa.$children,t=0;t<e.length;t++){var i=e[t],r=i.x+this.rightWawa.x-375;if(Math.abs(r)<60)return i}return null},t}(egret.DisplayObjectContainer);__reflect(Wawa.prototype,"Wawa");var WawaHead=function(e){function t(){var t=e.call(this)||this;return t.stone=new egret.Bitmap,t.stone.fillMode=egret.BitmapFillMode.REPEAT,t.stone.height=100,t.addChild(t.stone),t.head=new egret.Bitmap,t.addChild(t.head),t.move=new egret.DisplayObjectContainer,t.move.y=72,t.addChild(t.move),t.body=new egret.Bitmap,t.item=new WawaItem,t.item.y=10,t.item.visible=!1,t.move.addChild(t.item),t.right=new WawaHand,t.right.x=30,t.right.scaleX=-1,t.move.addChild(t.right),t.left=new WawaHand,t.left.x=-30,t.move.addChild(t.left),t.move.addChild(t.body),t.right.y=t.left.y=37,t}return __extends(t,e),t.prototype.showItem=function(e){this.item.updata(e),this.item.y=this.item.height+this.left.height/2,this.item.visible=!0},t.prototype.updata=function(e){this.stone.texture=WawaCfg.getRes(["zzz",e,"png"].join("_")),this.stone.anchorOffsetX=this.stone.texture.textureWidth/2,this.body.texture=WawaCfg.getRes(["zzt",e,"png"].join("_")),this.body.anchorOffsetX=this.body.texture.textureWidth/2,this.right.updata(e),this.left.updata(e)},t.prototype.run=function(){this.isComplete=!1;var e=this.stage.stageHeight-300,t=e*WawaCfg.speed,i=e*WawaCfg.speedBack;this.right.open(t),this.left.open(t);var r=this.move.y,a=this.stone.height;egret.Tween.get(this.move).to({y:e},t).to({y:r},i),egret.Tween.get(this.stone).to({height:e+a-r},t).call(this.dispatchEventWith,this,[egret.Event.CHANGE]).to({height:a},i).call(this.end,this)},t.prototype.down=function(){var e=this.stage.stageHeight,t=e-this.item.y,i=egret.Tween.get(this.item),r=50*Math.random();Math.random()>.5&&(r*=-1),i.to({y:e,rotation:r},1.3*t).set({y:90,visible:!1,rotation:0})},t.prototype.end=function(){this.isComplete=!0,this.dispatchEventWith(egret.Event.COMPLETE)},t}(egret.DisplayObjectContainer);__reflect(WawaHead.prototype,"WawaHead");var WawaHand=function(e){function t(){var t=e.call(this)||this;return t.anchorOffsetX=25,t}return __extends(t,e),t.prototype.updata=function(e){this.texture=WawaCfg.getRes("zzl_"+e+"_png")},t.prototype.open=function(e){egret.Tween.get(this).to({rotation:15*this.scaleX},500).wait(e-700).to({rotation:0},300)},t.prototype.close=function(){egret.Tween.get(this).to({rotation:0},300)},t}(egret.Bitmap);__reflect(WawaHand.prototype,"WawaHand");var WawaBtnHead=function(e){function t(t){var i=e.call(this)||this;return i.idx=t,i.touchEnabled=!0,i.touchChildren=!1,i.bg=new egret.Bitmap,i.select=0==t,i.addChild(i.bg),i.money=new egret.TextField,i.money.size=14,i.money.textAlign=egret.HorizontalAlign.CENTER,i.money.width=i.bg.width,i.money.y=i.bg.height-30,i.money.stroke=2,i.money.strokeColor=0,i.addChild(i.money),i}return __extends(t,e),Object.defineProperty(t.prototype,"select",{set:function(e){this.bg.texture=WawaCfg.getRes("ctab"+this.idx+(e?"_s":"")+"_png")},enumerable:!0,configurable:!0}),t.prototype.updata=function(e){this.price=e,this.money.text=this.price+""},t}(egret.DisplayObjectContainer);__reflect(WawaBtnHead.prototype,"WawaBtnHead");var WawaItem=function(e){function t(t){void 0===t&&(t=1);var i=e.call(this)||this;return i.img=new egret.Bitmap,i.addChild(i.img),i.money=new egret.TextField,i.money.width=115*t,i.money.anchorOffsetX=i.money.width/2,i.scaleX=i.scaleY=t,i.money.textAlign=egret.HorizontalAlign.RIGHT,i.money.y=-34,i.addChild(i.money),i}return __extends(t,e),t.prototype.hide=function(){this.visible=!1,this.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this)},t.prototype.enterFrame=function(){var e=this.x+this.parent.x;this.parent.localToGlobal(this.x,0);e>820&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),this.visible=!0)},t.prototype.updata=function(e){this.idx=e;var t=e%WawaCfg.cfg.length;this.data=WawaCfg.cfg[t];this.idx%9+1;this.money.text="x"+this.data.multiple;this.data.id;this.img.texture=WawaCfg.getRes("img_"+this.data.id+"_png"),this.img.y=-this.img.texture.textureHeight,this.img.anchorOffsetX=this.img.texture.textureWidth/2},t.prototype.upimg=function(){this.img.texture=t.Texture[this.data.id+""]},t.Texture={},t}(egret.DisplayObjectContainer);__reflect(WawaItem.prototype,"WawaItem");var WawaItemRight=function(e){function t(){var t=e.call(this)||this;return t.count=5,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){this.stage.addEventListener(egret.Event.ACTIVATE,this.activate,this),this.stage.addEventListener(egret.Event.DEACTIVATE,this.deActivate,this)},t.prototype.activate=function(){egret.setTimeout(this.start,this,1e3)},t.prototype.deActivate=function(){for(;this.numChildren;){var e=this.removeChildAt(0);egret.Tween.removeTweens(e)}},t.prototype.start=function(){this.idx=0,this.end=(this.count+1)*WawaCfg.jx;for(var e=0;e<this.count+1;e++){var t=(WawaCfg[e],new WawaItem);this.count+e;t.updata(this.idx),t.x=-100,egret.setTimeout(this.next,this,WawaCfg.jxt*e,t),this.addChild(t)}},t.prototype.next=function(e){e.visible=!0,this.idx++,e.updata(this.idx);var t=egret.Tween.get(e);t.set({x:-WawaCfg.jx}).to({x:this.end},(this.count+1)*WawaCfg.jxt).call(this.next,this,[e])},t}(egret.DisplayObjectContainer);__reflect(WawaItemRight.prototype,"WawaItemRight");var WawaItemLeft=function(e){function t(){var t=e.call(this)||this;return t.count=7,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){this.stage.addEventListener(egret.Event.ACTIVATE,this.activate,this),this.stage.addEventListener(egret.Event.DEACTIVATE,this.deActivate,this)},t.prototype.activate=function(){this.start()},t.prototype.deActivate=function(){for(;this.numChildren;){var e=this.removeChildAt(0);egret.Tween.removeTweens(e)}},t.prototype.start=function(){this.idx=0,this.end=(this.count+1)*WawaCfg.jx;for(var e=0;e<this.count+1;e++){var t=(WawaCfg[e],new WawaItem);this.count+e;t.updata(this.idx),t.x=100,egret.setTimeout(this.next,this,WawaCfg.jxt*e,t),this.addChild(t)}this.x=750},t.prototype.next=function(e){this.idx++,e.updata(this.idx);var t=egret.Tween.get(e);t.set({x:WawaCfg.jx}).to({x:-this.end},(this.count+1)*WawaCfg.jxt).call(this.next,this,[e])},t}(egret.DisplayObjectContainer);__reflect(WawaItemLeft.prototype,"WawaItemLeft");var WawaLeft=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.start=function(){for(var e=.7,t=WawaCfg.jx,i=2*WawaCfg.cfg.length,r=egret.Capabilities.isMobile?[new egret.ColorMatrixFilter([1,0,0,0,-50,0,1,0,0,-50,0,0,1,0,-50,0,0,0,1,0])]:null,a=-WawaCfg.cfg.length*t,n=0;i>n;n++){var o=n%WawaCfg.cfg.length,s=(WawaCfg[n],new WawaItem(e));s.img.filters=r,s.updata(o),s.x=n*t,this.addChild(s)}var g=egret.Tween.get(this,{loop:!0});g.to({x:a},i*WawaCfg.jxt).set({x:0})},t}(egret.DisplayObjectContainer);__reflect(WawaLeft.prototype,"WawaLeft");var WawaRight=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.start=function(){for(var e=1,t=WawaCfg.jx*e,i=2*WawaCfg.cfg.length,r=-WawaCfg.cfg.length*t,a=0;i>a;a++){var n=a%WawaCfg.cfg.length,o=(WawaCfg[a],new WawaItem);o.scaleX=o.scaleY=e,o.updata(n),o.x=a*t,this.addChild(o)}var s=egret.Tween.get(this,{loop:!0});s.set({x:r}).to({x:0},i*WawaCfg.jxt)},t.prototype.show=function(e){void 0===e&&(e=null);for(var t=this.numChildren,i=0;t>i;i++)this.getChildAt(i).visible=!0},t.prototype.hide=function(e){for(var t=this.numChildren,i=0;t>i;i++){var r=this.getChildAt(i);r.data.id==e&&(r.visible=!1)}},t}(egret.DisplayObjectContainer);__reflect(WawaRight.prototype,"WawaRight");var WawaMessage=function(e){function t(){var t=e.call(this)||this;return t.bg=new egret.Shape,t.bg.once(egret.TouchEvent.TOUCH_TAP,t.close,t),t.bg.touchEnabled=!0,t.addChild(t.bg),t.king=new egret.Bitmap(WawaCfg.getRes("resa_png")),t.king.anchorOffsetX=t.king.texture.textureWidth/2,t.king.y=-400,t.addChild(t.king),t.cg=new egret.Bitmap(WawaCfg.getRes("cg_png")),t.cg.anchorOffsetX=t.cg.texture.textureWidth/2,t.addChild(t.cg),t.label=new egret.TextField,t.label.textAlign=egret.HorizontalAlign.CENTER,t.label.width=700,t.label.x=-350,t.label.y=100,t.addChild(t.label),t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.close=function(){this.parent&&(this.stage.removeEventListener(egret.Event.RESIZE,this.resize,this),this.parent.removeChild(this))},t.prototype.addToStage=function(){this.stage.addEventListener(egret.Event.RESIZE,this.resize,this),this.resize(),egret.setTimeout(this.close,this,1e3)},t.prototype.resize=function(){var e=this.stage.stageWidth,t=this.stage.stageHeight;this.x=this.stage.stageWidth/2,this.y=this.stage.stageHeight/2,this.bg.graphics.clear(),this.bg.graphics.beginFill(0,.8),this.bg.graphics.drawRect(-e/2,-t/2,e,t),this.bg.graphics.endFill()},t}(egret.DisplayObjectContainer);__reflect(WawaMessage.prototype,"WawaMessage");